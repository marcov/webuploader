extends layout

block content
 
  div(class="pure-g")
    div(class="pure-u-1-3 boxed")
      h1()= title
  
  div(class="pure-g")
    div(class="pure-u-1-3")
      h3()="Stored files listing"
      a(href="/uploads"
        class="pure-button"
        style="color: white; background: rgb(28, 184, 65);")="Go to files listing"
  
    div(class="pure-u-1-3")
      h3()="Upload one or more files"
      form(class="pure-form pure-form-stacked" method="post" action="/uploadFiles" enctype="multipart/form-data")
        fieldset
          label(for="files")="Choose files"
          input(id="files" class="pure-button pure-form" name="filesToUpload" type="file" multiple)
          label(for="folderName")="Folder Name (optional)"
          input(id="folderName" 
                type="text"
                name="destDir"
                value="")
          input(class="pure-button pure-button-primary"
                 type="submit")
  
    div(class="pure-u-1-3")
      h3()="Delete folders"

      if dirList.length == 0
        p()="Upload folder is empty"
      else 
        form(class="pure-form pure-form-stacked", method="post" action="/deleteDir")
          fieldset
            table(class="pure-table pure-table-bordered")
              thead
                tr
                  th="Folder"
                  th="Selected"

              tbody
              each item in dirList 
                  tr
                    td=item
                    td
                      input(name="folderName", value=item, type="checkbox")
            br
            label() Attention: the action cannot be undone!
            input(class="pure-button" style="background: rgb(202, 60, 60); color: white;" type="submit" value="Delete Selected")

  div(style="height: 5em;")
  div(class="pure-g")
    div(class="pure-u-1")
      div(style="text-align:center;") #{title} by 
        a(href="https://github.com/marcov") marcov